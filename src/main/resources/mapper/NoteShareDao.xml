<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.cloud.note.dao.NoteShareDao">

    <insert id="saveShare" parameterType="org.cloud.note.entity.NoteShare">
        insert into note_share(user_id, note_id) values (#{userId},#{noteId})
    </insert>

    <delete id="removeShareByNoteId">
        delete from note_share where note_id=#{noteId}
    </delete>

    <update id="incrementLoveCount">
        update note_share set love_count=love_count+1 where note_id=#{noteId}
    </update>
</mapper>